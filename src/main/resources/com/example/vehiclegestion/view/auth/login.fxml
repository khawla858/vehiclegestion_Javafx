<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>

<StackPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="com.example.vehiclegestion.auth.controller.LoginController"
           stylesheets="@../../css/auth.css"
           prefWidth="1200" prefHeight="800" minWidth="400" minHeight="500">


    <!-- Fond principal responsive -->
    <VBox alignment="CENTER" spacing="0" styleClass="login-background"
          StackPane.alignment="CENTER" VBox.vgrow="ALWAYS">



        <!-- Par cette ligne : -->
        <HBox alignment="CENTER" spacing="0" HBox.hgrow="ALWAYS" VBox.vgrow="ALWAYS"
              maxWidth="1400" maxHeight="900" prefWidth="1000" prefHeight="650"
              styleClass="main-hbox">



            <!-- Section illustration (cachÃ©e sur petits Ã©crans) -->
            <VBox fx:id="illustrationSection" alignment="CENTER" spacing="30"
                  styleClass="illustration-section"
                  prefWidth="500" minWidth="400" maxWidth="600"
                  HBox.hgrow="ALWAYS" visible="true" managed="true">

                <!-- Logo vÃ©hicule premium -->
                <VBox alignment="CENTER" spacing="20">
                    <Label text="ðŸŽï¸" styleClass="premium-logo-icon">
                        <font>
                            <Font size="80"/>
                        </font>
                    </Label>
                    <VBox alignment="CENTER" spacing="10">
                        <Label text="Gestion VÃ©hicules" styleClass="illustration-title">
                            <font>
                                <Font name="System Bold" size="32"/>
                            </font>
                        </Label>
                        <Label text="Solution premium de gestion automobile"
                               styleClass="illustration-subtitle" textAlignment="CENTER"
                               wrapText="true" maxWidth="350">
                            <font>
                                <Font size="14"/>
                            </font>
                        </Label>
                    </VBox>
                </VBox>

                <!-- Features list -->
                <VBox alignment="CENTER_LEFT" spacing="15" styleClass="features-list"
                      maxWidth="400">
                    <HBox alignment="CENTER_LEFT" spacing="12">
                        <Label text="âœ“" styleClass="feature-icon">
                            <font>
                                <Font size="16"/>
                            </font>
                        </Label>
                        <Label text="Gestion complÃ¨te du parc automobile"
                               styleClass="feature-text" wrapText="true">
                            <font>
                                <Font size="13"/>
                            </font>
                        </Label>
                    </HBox>
                    <HBox alignment="CENTER_LEFT" spacing="12">
                        <Label text="âœ“" styleClass="feature-icon">
                            <font>
                                <Font size="16"/>
                            </font>
                        </Label>
                        <Label text="Suivi en temps rÃ©el des vÃ©hicules"
                               styleClass="feature-text" wrapText="true">
                            <font>
                                <Font size="13"/>
                            </font>
                        </Label>
                    </HBox>
                    <HBox alignment="CENTER_LEFT" spacing="12">
                        <Label text="âœ“" styleClass="feature-icon">
                            <font>
                                <Font size="16"/>
                            </font>
                        </Label>
                        <Label text="Rapports dÃ©taillÃ©s et analytics"
                               styleClass="feature-text" wrapText="true">
                            <font>
                                <Font size="13"/>
                            </font>
                        </Label>
                    </HBox>
                </VBox>
            </VBox>

            <!-- Carte de connexion responsive -->
            <VBox alignment="CENTER" spacing="0" styleClass="login-card-container"
                  prefWidth="450" minWidth="400" maxWidth="500"
                  HBox.hgrow="ALWAYS">

                <VBox alignment="CENTER" spacing="25" styleClass="login-card"
                      VBox.vgrow="ALWAYS" maxWidth="420">

                    <!-- En-tÃªte responsive -->
                    <VBox alignment="CENTER" spacing="15">
                        <!-- Logo mobile (visible seulement sur petits Ã©crans) -->
                        <Label text="ðŸš—" styleClass="mobile-logo-icon"
                               visible="false" managed="false">
                            <font>
                                <Font size="45"/>
                            </font>
                        </Label>
                        <VBox alignment="CENTER" spacing="8">
                            <Label text="Connexion" styleClass="app-title">
                                <font>
                                    <Font name="System Bold" size="26"/>
                                </font>
                            </Label>
                            <Label text="AccÃ©dez Ã  votre espace vÃ©hicules"
                                   styleClass="subtitle" textAlignment="CENTER"
                                   wrapText="true" maxWidth="300">
                                <font>
                                    <Font size="13"/>
                                </font>
                            </Label>
                        </VBox>
                    </VBox>

                    <!-- Formulaire responsive -->
                    <VBox spacing="20" VBox.vgrow="ALWAYS" prefWidth="380"
                          maxWidth="400">

                        <!-- Champ Email -->
                        <VBox spacing="8" VBox.vgrow="ALWAYS">
                            <Label text="Adresse Email" styleClass="field-label">
                                <font>
                                    <Font name="System Bold" size="12"/>
                                </font>
                            </Label>
                            <TextField fx:id="emailField" promptText="exemple@email.com"
                                       styleClass="custom-field" prefHeight="45">
                                <font>
                                    <Font size="14"/>
                                </font>
                            </TextField>
                        </VBox>

                        <!-- Champ Mot de passe -->
                        <VBox spacing="8" VBox.vgrow="ALWAYS">
                            <HBox alignment="CENTER_LEFT" spacing="0">
                                <Label text="Mot de passe" styleClass="field-label">
                                    <font>
                                        <Font name="System Bold" size="12"/>
                                    </font>
                                </Label>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Hyperlink text="Mot de passe oubliÃ©?"
                                           styleClass="forgot-link"
                                           onAction="#handleForgotPassword">
                                    <font>
                                        <Font size="11"/>
                                    </font>
                                </Hyperlink>
                            </HBox>
                            <PasswordField fx:id="passwordField" promptText="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                                           styleClass="custom-field" prefHeight="45">
                                <font>
                                    <Font size="14"/>
                                </font>
                            </PasswordField>
                        </VBox>

                        <!-- Options supplÃ©mentaires -->
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <CheckBox fx:id="rememberCheckbox" text="Se souvenir de moi"
                                      styleClass="remember-checkbox"/>
                            <Region HBox.hgrow="ALWAYS"/>
                        </HBox>

                        <!-- Message d'erreur -->
                        <Label fx:id="errorLabel" styleClass="error-message"
                               visible="false" wrapText="true" prefHeight="60"
                               maxWidth="380">
                            <font>
                                <Font size="11"/>
                            </font>
                        </Label>

                        <!-- Bouton de connexion -->
                        <Button text="Se connecter" onAction="#handleLogin"
                                styleClass="login-button" maxWidth="Infinity"
                                prefHeight="50">
                            <font>
                                <Font name="System Bold" size="14"/>
                            </font>
                        </Button>

                        <!-- SÃ©parateur -->
                        <HBox alignment="CENTER" spacing="15" prefHeight="30">
                            <Separator HBox.hgrow="ALWAYS" styleClass="divider"/>
                            <Label text="OU" styleClass="divider-text">
                                <font>
                                    <Font name="System Bold" size="10"/>
                                </font>
                            </Label>
                            <Separator HBox.hgrow="ALWAYS" styleClass="divider"/>
                        </HBox>

                        <!-- Boutons sociaux (optionnel) -->
                        <HBox alignment="CENTER" spacing="12" styleClass="social-buttons-container">

                            <Button text="Microsoft" styleClass="social-button microsoft-button"
                                    maxWidth="Infinity" HBox.hgrow="ALWAYS"
                                    prefHeight="40" onAction="#handleMicrosoftLogin">
                                <font>
                                    <Font name="System Bold" size="12"/>
                                </font>
                            </Button>
                        </HBox>

                        <!-- Lien inscription -->
                        <HBox alignment="CENTER" spacing="5" styleClass="signup-container">
                            <Label text="Nouveau sur la plateforme ?" styleClass="signup-text">
                                <font>
                                    <Font size="12"/>
                                </font>
                            </Label>
                            <Hyperlink text="CrÃ©er un compte" onAction="#handleGoToRegister"
                                       styleClass="signup-link">
                                <font>
                                    <Font name="System Bold" size="12"/>
                                </font>
                            </Hyperlink>
                        </HBox>

                        <!-- Footer -->
                        <VBox alignment="CENTER" spacing="5" styleClass="footer-container">
                            <Label text="Â© 2024 Gestion VÃ©hicules. Tous droits rÃ©servÃ©s."
                                   styleClass="footer-text">
                                <font>
                                    <Font size="10"/>
                                </font>
                            </Label>
                            <HBox alignment="CENTER" spacing="15">
                                <Hyperlink text="Conditions d'utilisation"
                                           styleClass="footer-link"/>
                                <Hyperlink text="Politique de confidentialitÃ©"
                                           styleClass="footer-link"/>
                            </HBox>
                        </VBox>
                    </VBox>
                </VBox>
            </VBox>
        </HBox>
    </VBox>
</StackPane>