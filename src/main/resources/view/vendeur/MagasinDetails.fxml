<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<ScrollPane xmlns="http://javafx.com/javafx/11.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.vehiclegestion.vendeur.controller.MagasinDetailsController"
            fitToWidth="true"
            style="-fx-background-color: #f5f7fa;">

    <VBox spacing="0" style="-fx-background-color: #f5f7fa;">

        <!-- HEADER AVEC LOGO ET NOM -->
        <HBox alignment="CENTER_LEFT" spacing="20"
              style="-fx-background-color: white; -fx-padding: 30; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 10, 0, 0, 2);">

            <!-- Logo -->
            <VBox alignment="CENTER" spacing="10"
                  style="-fx-background-color: #f8f9fa; -fx-padding: 20; -fx-background-radius: 12; -fx-border-color: #e0e0e0; -fx-border-width: 2; -fx-border-radius: 12;">
                <ImageView fx:id="logoImage" fitHeight="120" fitWidth="120" preserveRatio="true" />
            </VBox>

            <!-- Informations principales -->
            <VBox spacing="8" HBox.hgrow="ALWAYS">
                <Text fx:id="nomMagasin" text="Nom du Magasin"
                      style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-fill: #1e293b;"/>
                <Text fx:id="categorieMagasin" text="CatÃ©gorie"
                      style="-fx-font-size: 16px; -fx-fill: #64748b;"/>

                <!-- Badges -->
                <HBox spacing="15" style="-fx-padding: 10 0 0 0;">
                    <HBox spacing="8" alignment="CENTER_LEFT"
                          style="-fx-background-color: #e0f2fe; -fx-padding: 8 15; -fx-background-radius: 20;">
                        <Label text="ðŸ“" style="-fx-font-size: 14px;"/>
                        <Label fx:id="localisationBadge" text="Localisation"
                               style="-fx-text-fill: #0369a1; -fx-font-weight: bold; -fx-font-size: 13px;"/>
                    </HBox>
                    <HBox spacing="8" alignment="CENTER_LEFT"
                          style="-fx-background-color: #fef3c7; -fx-padding: 8 15; -fx-background-radius: 20;">
                        <Label text="â°" style="-fx-font-size: 14px;"/>
                        <Label text="Ouvert" style="-fx-text-fill: #92400e; -fx-font-weight: bold; -fx-font-size: 13px;"/>
                    </HBox>
                </HBox>
            </VBox>

            <!-- Boutons d'action -->
            <VBox spacing="12" alignment="TOP_RIGHT">
                <Button text="ðŸ“ž Contacter"
                        style="-fx-background-color: linear-gradient(to bottom, #3b82f6, #2563eb); -fx-text-fill: white; -fx-padding: 12 30; -fx-background-radius: 8; -fx-font-size: 14px; -fx-font-weight: bold; -fx-cursor: hand;"/>
                <Button text="ðŸŒ Visiter le site"
                        style="-fx-background-color: white; -fx-text-fill: #3b82f6; -fx-padding: 12 30; -fx-background-radius: 8; -fx-font-size: 14px; -fx-font-weight: bold; -fx-border-color: #3b82f6; -fx-border-width: 2; -fx-border-radius: 8; -fx-cursor: hand;"/>
            </VBox>
        </HBox>

        <!-- CONTENU PRINCIPAL -->
        <HBox spacing="25" style="-fx-padding: 30;">

            <!-- COLONNE GAUCHE -->
            <VBox spacing="20" prefWidth="600" HBox.hgrow="ALWAYS">

                <!-- Horaires -->
                <VBox spacing="15"
                      style="-fx-background-color: white; -fx-padding: 25; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 10, 0, 0, 2);">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label text="ðŸ•" style="-fx-font-size: 24px;"/>
                        <Text text="HORAIRES D'OUVERTURE"
                              style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-fill: #1e293b;"/>
                    </HBox>
                    <Separator style="-fx-background-color: #e2e8f0;"/>
                    <VBox fx:id="horairesContainer" spacing="10" />
                </VBox>

                <!-- Description -->
                <VBox spacing="15"
                      style="-fx-background-color: white; -fx-padding: 25; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 10, 0, 0, 2);">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label text="ðŸ“" style="-fx-font-size: 24px;"/>
                        <Text text="Ã€ PROPOS"
                              style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-fill: #1e293b;"/>
                    </HBox>
                    <Separator style="-fx-background-color: #e2e8f0;"/>
                    <Text fx:id="descriptionMagasin"
                          text="Description du magasin..."
                          wrappingWidth="540"
                          style="-fx-font-size: 14px; -fx-fill: #475569; -fx-line-spacing: 5px;"/>
                </VBox>

                <!-- Contact -->
                <VBox spacing="15"
                      style="-fx-background-color: white; -fx-padding: 25; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 10, 0, 0, 2);">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label text="ðŸ“ž" style="-fx-font-size: 24px;"/>
                        <Text text="COORDONNÃ‰ES"
                              style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-fill: #1e293b;"/>
                    </HBox>
                    <Separator style="-fx-background-color: #e2e8f0;"/>
                    <GridPane hgap="15" vgap="12">
                        <Label text="ðŸ“ Adresse :" GridPane.rowIndex="0" GridPane.columnIndex="0"
                               style="-fx-font-weight: bold; -fx-text-fill: #475569; -fx-min-width: 120;"/>
                        <Label fx:id="adresseMagasin" text="123 Rue Example" GridPane.rowIndex="0" GridPane.columnIndex="1"
                               style="-fx-text-fill: #1e293b;"/>

                        <Label text="ðŸ“ž TÃ©lÃ©phone :" GridPane.rowIndex="1" GridPane.columnIndex="0"
                               style="-fx-font-weight: bold; -fx-text-fill: #475569;"/>
                        <Label fx:id="telephoneMagasin" text="+212 5 00000000" GridPane.rowIndex="1" GridPane.columnIndex="1"
                               style="-fx-text-fill: #1e293b;"/>

                        <Label text="ðŸ“§ Email :" GridPane.rowIndex="2" GridPane.columnIndex="0"
                               style="-fx-font-weight: bold; -fx-text-fill: #475569;"/>
                        <Hyperlink fx:id="emailMagasin" text="contact@example.com" GridPane.rowIndex="2" GridPane.columnIndex="1"
                                   style="-fx-text-fill: #3b82f6;"/>

                        <Label text="ðŸŒ Site Web :" GridPane.rowIndex="3" GridPane.columnIndex="0"
                               style="-fx-font-weight: bold; -fx-text-fill: #475569;"/>
                        <Hyperlink fx:id="lienSiteWeb" text="www.example.com" GridPane.rowIndex="3" GridPane.columnIndex="1"
                                   style="-fx-text-fill: #3b82f6;"/>
                    </GridPane>
                </VBox>

                <!-- RÃ©seaux sociaux -->
                <VBox spacing="15"
                      style="-fx-background-color: white; -fx-padding: 25; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 10, 0, 0, 2);">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label text="ðŸ“±" style="-fx-font-size: 24px;"/>
                        <Text text="SUIVEZ-NOUS"
                              style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-fill: #1e293b;"/>
                    </HBox>
                    <Separator style="-fx-background-color: #e2e8f0;"/>
                    <HBox spacing="15">
                        <Button fx:id="btnFacebook" text="f Facebook"
                                style="-fx-background-color: #1877f2; -fx-text-fill: white; -fx-padding: 10 20; -fx-background-radius: 8; -fx-font-weight: bold; -fx-cursor: hand;"/>
                        <Button fx:id="btnInstagram" text="ðŸ“· Instagram"
                                style="-fx-background-color: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%); -fx-text-fill: white; -fx-padding: 10 20; -fx-background-radius: 8; -fx-font-weight: bold; -fx-cursor: hand;"/>
                    </HBox>
                </VBox>

            </VBox>

            <!-- COLONNE DROITE : CARTE -->
            <VBox spacing="20" prefWidth="450">

                <!-- âœ… Carte avec ImageView -->
                <VBox spacing="15"
                      style="-fx-background-color: white; -fx-padding: 25; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 10, 0, 0, 2);">

                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label text="ðŸ—ºï¸" style="-fx-font-size: 24px;"/>
                        <Text text="LOCALISATION"
                              style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-fill: #1e293b;"/>
                    </HBox>

                    <Separator style="-fx-background-color: #e2e8f0;"/>

                    <!-- Image de la carte (Google Maps Static) -->
                    <StackPane style="-fx-background-color: #e5e7eb; -fx-background-radius: 8; -fx-border-color: #cbd5e1; -fx-border-width: 2; -fx-border-radius: 8;">
                        <ImageView fx:id="carteImage" fitWidth="400" fitHeight="500" preserveRatio="false"
                                   style="-fx-background-radius: 8;">
                            <!-- L'image sera chargÃ©e dynamiquement -->
                        </ImageView>

                        <!-- Overlay clickable pour ouvrir la carte complÃ¨te -->
                        <VBox alignment="BOTTOM_CENTER" style="-fx-padding: 10;">
                            <Button fx:id="btnVoirCarte" text="ðŸ” Voir en plein Ã©cran"
                                    style="-fx-background-color: rgba(255, 255, 255, 0.95); -fx-text-fill: #1e293b; -fx-padding: 8 16; -fx-background-radius: 6; -fx-font-weight: bold; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 5, 0, 0, 2);"/>
                        </VBox>
                    </StackPane>

                    <!-- Indications et actions -->
                    <VBox spacing="10" style="-fx-padding: 10 0 0 0;">
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="ðŸ“" style="-fx-font-size: 16px;"/>
                            <Label fx:id="etageInfo" text="SituÃ© au DeuxiÃ¨me Ã©tage"
                                   style="-fx-text-fill: #475569; -fx-font-size: 14px;"/>
                        </HBox>

                        <!-- Bouton itinÃ©raire -->
                        <Button fx:id="btnItineraire" text="ðŸ§­ Obtenir l'itinÃ©raire"
                                style="-fx-background-color: #10b981; -fx-text-fill: white; -fx-padding: 12 0; -fx-background-radius: 8; -fx-font-weight: bold; -fx-cursor: hand; -fx-pref-width: 400; -fx-effect: dropshadow(gaussian, rgba(16, 185, 129, 0.3), 8, 0, 0, 2);">
                            <tooltip>
                                <Tooltip text="Ouvrir l'itinÃ©raire dans Google Maps" />
                            </tooltip>
                        </Button>

                        <!-- Message informatif -->
                        <Label text="ðŸ’¡ Cliquez sur le bouton pour ouvrir Google Maps"
                               style="-fx-text-fill: #64748b; -fx-font-size: 12px; -fx-font-style: italic; -fx-padding: 5 0 0 0;"/>
                    </VBox>
                </VBox>

            </VBox>

        </HBox>

    </VBox>

</ScrollPane>